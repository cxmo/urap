load("data.RData")

# try a small subset of the data
subset.df <- data[1:20]

# get only name of the person and education of the person

education <- lapply(subset.df, function(x) x$education) 
education <- unlist(education)


names.vector <- c()


for (i in 1:length(subset.df)) {
    local.name <- subset.df[[i]]$name
    local.education <- subset.df[[i]]$education
    number.education <- length(local.education)
    local.name.vector <- rep(local.name, times = number.education)
    names.vector <- c(names.vector, local.name.vector)
}

education.name <- education[which(names(education) == "name")]
education.description <- education[which(names(education) == "description")]
education.period <- education[which(names(education) == "period")]

education.df <- data.frame(names.vector, education.name, education.description, education.period, stringsAsFactors = F)
colnames(education.df)<-c("Name", "Institute", "Description", "Period")

### APPLY TO WHOLE DATASET ###

education <- lapply(data, function(x) x$education) 
education <- unlist(education)


names.vector <- c()


for (i in 1:length(data)) {
    local.name <- data[[i]]$name
    local.education <- data[[i]]$education
    number.education <- length(local.education)
    local.name.vector <- rep(local.name, times = number.education)
    names.vector <- c(names.vector, local.name.vector)
}

education.name <- education[which(names(education) == "name")]
education.description <- education[which(names(education) == "description")]
education.period <- education[which(names(education) == "period")]

education.df <- data.frame(names.vector, education.name, education.description, education.period, stringsAsFactors = F)
colnames(education.df)<-c("Name", "Institute", "Description", "Period")

# working with descriptions 
description <- education.df$Description

# assign vector with same length as description
value <- rep(0, times = length(description))

# thinking of different patterns for Bachelor's Degrees
bachelor.pattern <- c("Bachelor*", "B.A", "BA", "B.S", "BS*", "BE", "B.Tech")
bachelor.index <- grep(pattern = "Bachelor's", x = description) 
value[bachelor.index] = 1

